---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { frontKonData } from '@/data/frontkon-data';
import type { Locale } from '@/data/types';
import { getText } from '@/utils/content';

const lang: Locale = 'en';
const base = import.meta.env.BASE_URL || '/';
const pref = (path: string) => `${base.replace(/\/$/, '')}${path}`;
---

<BaseLayout title="Workshops" lang={lang}>
  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Workshops</p>
      <h2>Hands-on labs 2025–2026</h2>
      <p class="subtitle">Pick a workshop and see the details.</p>
    </div>
    <div class="grid">
      {frontKonData.workshops.map((ws) => (
        <a class="card card-link" href={pref(`/en/workshopy/${ws.id}/`)}>
          <h3>{getText(ws.title, lang)}</h3>
          <p class="modal-description">{getText(ws.description, lang)}</p>
          <p class="list-meta">{ws.date} · {ws.time} · {ws.price}</p>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>

