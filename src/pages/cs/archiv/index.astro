---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { frontKonData } from '@/data/frontkon-data';
import type { Locale } from '@/data/types';
import { getText } from '@/utils/content';

const lang: Locale = 'cs';
const years = frontKonData.years.filter((y) => y.id !== '2026');
const base = import.meta.env.BASE_URL || '/';
const pref = (path: string) => `${base.replace(/\/$/, '')}${path}`;
---

<BaseLayout title="Archiv přednášek" lang={lang}>
  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Archiv</p>
      <h2>Ročníky 2020–2025</h2>
      <p class="subtitle">Procházej starší talky a workshopy. Přejdi na přehled přednášek, témat a spíkrů.</p>
    </div>
    <div class="grid">
      {years.map((year) => (
        <a class="card card-link" href={pref(`/cs/archiv/prednasky/`)}>
          <h3>{year.year}</h3>
          <p class="list-meta">{year.location}</p>
          <p class="modal-description">{getText(year.claim, lang)}</p>
        </a>
      ))}
    </div>
  </section>

  <section class="section">
    <div class="grid">
      <a class="card card-link" href={pref('/cs/archiv/prednasky/')}>
        <h3>Přednášky</h3>
        <p class="modal-description">Vyhledávání a filtrování všech talků.</p>
      </a>
      <a class="card card-link" href={pref('/cs/archiv/temata/')}>
        <h3>Témata</h3>
        <p class="modal-description">Seznam témat a odkaz na relevantní talky.</p>
      </a>
      <a class="card card-link" href={pref('/cs/archiv/spikri/')}>
        <h3>Spíkři</h3>
        <p class="modal-description">Filtrovatelné profily řečníků.</p>
      </a>
    </div>
  </section>
</BaseLayout>

