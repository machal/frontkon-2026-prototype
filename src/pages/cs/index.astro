---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { frontKonData } from '@/data/frontkon-data';
import type { Locale } from '@/data/types';
import { getText, mapTopics } from '@/utils/content';

const lang: Locale = 'cs';
const year2026 = frontKonData.years.find((y) => y.id === '2026');
const talks2026 = frontKonData.talks.filter((t) => t.yearId === '2026');
const workshops2026 = frontKonData.workshops.filter((w) => w.yearId === '2026');
const topWorkshops = workshops2026.slice(0, 3);
const speakersHighlight = frontKonData.speakers.slice(0, 8);
const base = import.meta.env.BASE_URL || '/';
const pref = (path: string) => `${base.replace(/\/$/, '')}${path}`;

const byStage = ['A', 'B', 'C'].map((stage) => ({
  stage,
  slots: talks2026.filter((t) => t.stage === stage),
}));

const faq = [
  { q: 'Kde se FrontKon 2026 koná?', a: 'Praha, O2 Universum, 3. října 2026.' },
  { q: 'Proč koupit vstupenku už teď?', a: 'Konference se pravidelně vyprodá, early bird ti zajistí místo a lepší cenu.' },
  { q: 'Je akce přístupná v angličtině?', a: 'Ano, přidáváme více mezinárodních řečníků a EN-friendly obsah.' },
  { q: 'Budou záznamy na YouTube?', a: 'Ano, všechny přednášky budou zveřejněny po akci.' },
  { q: 'Je web připravený pro GitHub Pages?', a: 'Ano, generujeme čistě statické MPA s nastavitelným base.' },
];

const features = [
  { title: '3 stage, hloubkové přednášky', desc: 'Žádné základy, ale produkční know-how od lidí z praxe.' },
  { title: '900+ účastníků', desc: 'Silná komunita, prostor na setkání i hallway track.' },
  { title: 'Více mezinárodních řečníků', desc: 'Rok 2026 je otevřenější angličtině a globálním tématům.' },
];

const socials = [
  { label: 'YouTube', href: 'https://www.frontkon.cz/' },
  { label: 'Instagram', href: 'https://www.frontkon.cz/' },
  { label: 'Twitter / X', href: 'https://www.frontkon.cz/' },
  { label: 'Facebook', href: 'https://www.frontkon.cz/' },
  { label: 'LinkedIn', href: 'https://www.frontkon.cz/' },
];

const partners = ['TechCorp', 'DesignStudio', 'VueCorp', 'PerfLab', 'EdgeOps', 'AI Frontiers', 'CloudNative', 'SecureWeb'];
---

<BaseLayout title="FrontKon 2026" lang={lang}>
  <section class="hero-wireframe">
    <div class="hero-content">
      <p class="eyebrow">3. října 2026 · Praha, O2 Universum</p>
      <h2 class="hero-title">FrontKon vstupuje do pátého roku a posouvá se na další úroveň.</h2>
      <p class="hero-tagline">900 účastníků · 3 stage · hloubkové přednášky · víc mezinárodních řečníků</p>
      <p class="hero-meta">Očekávejte 3 stage a hloubkové přednášky, které jdou daleko za základy.</p>
    </div>
  </section>

  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Speakeři</p>
      <h2>Výběr řečníků</h2>
      <p class="subtitle">Návrat oblíbenců i nové tváře.</p>
    </div>
    <div class="grid">
      {speakersHighlight.map((speaker) => (
        <a class="card card-link" href={pref(`/cs/speakers/${speaker.id}/`)}>
          <div class="speaker-avatar-large">
            <div class="avatar-placeholder-image"></div>
          </div>
          <h3>{speaker.name}</h3>
          <p class="modal-company">{speaker.company}</p>
          <p class="modal-description">{getText(speaker.bio, lang)}</p>
        </a>
      ))}
    </div>
    <div class="cta-row" style="margin-top:1rem;">
      <a class="nav-button" href={pref('/cs/prednasky/')}>Celý program</a>
    </div>
  </section>

  <section id="vstupenky" class="section">
    <div class="section-header">
      <p class="eyebrow">Vstupenky</p>
      <h2>Early bird vstupenky</h2>
      <p class="subtitle">Kup si vstupenku dřív a ušetři. Konference se každý rok vyprodá.</p>
    </div>
    <div class="grid">
      <div class="card">
        <h3>Early Bird</h3>
        <p class="modal-description">Nejlepší cena pro ty, kteří chtějí zajistit místo včas.</p>
        <p class="list-title">2 990 Kč</p>
        <a class="nav-button active" href="https://www.frontkon.cz/">Koupit</a>
      </div>
      <div class="card">
        <h3>Standardní</h3>
        <p class="modal-description">Běžná cena vstupenky na jeden den konference.</p>
        <p class="list-title">3 490 Kč</p>
        <a class="nav-button" href="https://www.frontkon.cz/">Koupit</a>
      </div>
      <div class="card">
        <h3>Studentská</h3>
        <p class="modal-description">Speciální cena pro studenty s platným průkazem.</p>
        <p class="list-title">1 990 Kč</p>
        <a class="nav-button" href="https://www.frontkon.cz/">Koupit</a>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Co tě čeká</p>
      <h2>Letos bude FrontKon ještě větší</h2>
      <p class="subtitle">Podle plánu pro 2026 přidáváme angličtinu a zůstává komunita.</p>
    </div>
    <div class="grid">
      {features.map((item) => (
        <div class="card">
          <h3>{item.title}</h3>
          <p class="modal-description">{item.desc}</p>
        </div>
      ))}
    </div>
  </section>

  <section id="workshopy" class="section">
    <div class="section-header">
      <p class="eyebrow">Workshopy</p>
      <h2>Praktické laby</h2>
      <p class="subtitle">Omezená kapacita, malé skupiny. Níže top 3, další najdeš na stránce workshopů.</p>
    </div>
    <div class="grid">
      {topWorkshops.map((ws) => (
        <a class="card card-link" href={pref(`/cs/workshopy/${ws.id}/`)}>
          <h3>{getText(ws.title, lang)}</h3>
          <p class="modal-description">{getText(ws.description, lang)}</p>
          <p class="list-meta">{ws.duration} min · kapacita {ws.capacity} · {ws.price}</p>
        </a>
      ))}
    </div>
    <div class="cta-row" style="margin-top:1rem;">
      <a class="nav-button" href={pref('/cs/workshopy/')}>Více workshopů</a>
    </div>
  </section>

  <section id="faq" class="section">
    <div class="section-header">
      <p class="eyebrow">FAQ</p>
      <h2>Často kladené dotazy</h2>
    </div>
    <div class="accordion">
      {faq.map((item) => (
        <details class="accordion-item">
          <summary>{item.q}</summary>
          <p>{item.a}</p>
        </details>
      ))}
    </div>
  </section>

  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Vzpomínky na 2025</p>
      <h2>Video a fotky z FrontKon 2025</h2>
      <p class="subtitle">Mrkni na záznamy a fotogalerii. Archiv je vždy otevřený.</p>
    </div>
    <div class="grid">
      <div class="card">
        <div class="video-container">
          <div class="video-placeholder">
            <div class="video-placeholder-content">
              <div class="play-icon">▶</div>
              <p>Záznam 2025</p>
            </div>
          </div>
        </div>
        <a class="nav-button" href={pref('/cs/archiv/')}>Do archivu</a>
      </div>
      <div class="card">
        <p class="list-title">Fotogalerie</p>
        <p class="modal-description">Atmosféra loňského ročníku v obrazech.</p>
        <a class="nav-button" href={pref('/cs/archiv/')}>Zobrazit</a>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Sociální sítě</p>
      <h2>Buď v obraze</h2>
    </div>
    <div class="cta-row">
      {socials.map((s) => (
        <a class="nav-button" href={s.href}>{s.label}</a>
      ))}
    </div>
  </section>

  <section class="section">
    <div class="section-header">
      <p class="eyebrow">Partneři 2026</p>
      <h2>Podpora komunity</h2>
      <p class="subtitle">Díky partnerům můžeme držet kvalitu obsahu i zázemí.</p>
    </div>
    <div class="grid partners-grid">
      {partners.map((partner) => (
        <div class="card partner-card">
          <p class="list-title">{partner}</p>
          <p class="modal-description">Partner FrontKon 2026</p>
        </div>
      ))}
    </div>
  </section>

  <section class="section newsletter-section">
    <div class="hero-panel card">
      <p class="eyebrow">Newsletter</p>
      <h3>Přihlas se do newsletteru a nic ti neuteče!</h3>
      <p class="modal-description">Aktuální info o programu, spíkrech a novinkách. Žádný spam, jen to podstatné.</p>
      <form class="newsletter-form" action="https://www.frontkon.cz/" method="post">
        <input class="newsletter-input" type="email" placeholder="tvuj@email.cz" required />
        <button class="nav-button active" type="submit">Přihlásit</button>
      </form>
    </div>
  </section>
</BaseLayout>

